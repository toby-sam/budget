<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Budget – Categories</title>
  <link rel="stylesheet" href="budget.css" />
  <style>
    .status-good {
      color: #008000;
      font-weight: bold;
    }

    .status-bad {
      color: #cc0000;
      font-weight: normal;
    }
  </style>

</head>

<body>
  <header class="navbar">
    <h1>Toby Budget – Budget</h1>
    <div class="nav-links">
      <!-- Populated by nav.js -->
    </div>
  </header>

  <main class="container">

    <!-- =====================  CLEAN SUMMARY  ===================== -->
    <section class="card">
      <h2>Income & Summary</h2>

      <div class="row summary-row">

        <!-- Row 1: 6 items -->
        <div>
          <div class="small">Monthly Income</div>
          <div id="summaryIncome" class="badge">$0.00</div>
        </div>

        <div>
          <div class="small">Total Budget</div>
          <div id="summaryCombinedBudget" class="badge">$0.00</div>
        </div>

        <div>
          <div class="small">Total Spend</div>
          <div id="summaryTotalSpend" class="badge">$0.00</div>
        </div>

        <div>
          <div class="small">AU Ledger Total</div>
          <div id="summaryAuLedgerTotal" class="badge">$0.00</div>
        </div>

        <div>
          <div class="small">PH Costs AUD</div>
          <div id="summaryPhCost" class="badge">$0.00</div>
        </div>

        <div>
          <div class="small">SamLedg Total</div>
          <div id="summarySamCost" class="badge">$0.00</div>
        </div>

        <!-- Row 2: 6 items -->
        <div>
          <div class="small">Total AU Budget</div>
          <div id="summaryTotalBudget" class="badge">$0.00</div>
        </div>

        <div>
          <div class="small">Income - Combined Pred Total</div>
          <div id="predictedProf" class="badge">$0.00</div>
        </div>

        <div>
          <div class="small">Total PH Budget</div>
          <div id="summaryTotalPhBudget" class="badge">$0.00</div>
        </div>

        <div>
          <div class="small">Total SAM Budget</div>
          <div id="summaryTotalSamBudget" class="badge">$0.00</div>
        </div>

        <div>
          <div class="small">AU Predicted Total</div>
          <div id="summaryPredictedTotal" class="badge">$0.00</div>
        </div>

        <div>
          <div class="small">Combined Pred Total</div>
          <div id="grandPredictedTotal" class="badge">$0.00</div>
        </div>

        <div>
          <div class="small">AU Savings (per month)</div>
          <input type="number" id="auSavingInput" class="badge input-badge" step="0.01">
        </div>

        <div>
          <div class="small"><b>Whats Left</b></div>
          <div id="remainingAfterSavings" class="badge" style="background:#28a745;color:white;font-weight:bold;"></div>
        </div>

      </div>
    </section>

    <!-- =====================  BACKUP BAR  ===================== -->
    <div class="backup-controls">
      <button id="saveBackupBtn" class="secondary">Save Backup</button>
      <input type="file" id="loadBackupInput" style="display:none" />
      <button id="loadBackupBtn" class="secondary">Load Backup</button>
      <button id="refreshBtn" class="secondary">Refresh</button>
    </div>

    <!-- =====================  CATEGORIES  ===================== -->
    <section class="card">
      <h2>Categories</h2>

      <div class="row" style="align-items:flex-end;">
        <div>
          <label>New Category Name</label>
          <input type="text" id="newCategoryName" placeholder="e.g. Rent, Gym, Developers" />
        </div>

        <div>
          <label>Monthly Budget ($)</label>
          <input type="number" id="newCategoryMonthly" min="0" step="0.01" />
        </div>

        <div>
          <button class="primary" id="addCategoryBtn">Add Category</button>
        </div>
      </div>

      <div class="small" style="margin-top:0.5rem;">These categories are shared with Ledger.</div>

      <div class="table-wrapper">
        <table id="categoriesTable">
          <thead>
            <tr>
              <th>Category</th>
              <th class="amount">Budget ($)</th>
              <th class="amount">Actual ($)</th>
              <th class="amount">Difference ($)</th>
              <th>Status</th>
              <th></th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

  </main>

  <script src="state.js"></script>
  <script src="nav.js"></script>
  <script src="budget.js"></script>
</body>

</html>